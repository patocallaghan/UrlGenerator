(function(a,b){var c={};c.UrlGenerator=function(){function f(){a.find(".btn").on("click",k),a.find("input").on("keypress",l),a.find(".close").on("click",i),b(document).on("keyup",j)}function g(){h(),a.show(),b(document).on("keyup",j)}function h(){var b=window.scrollY+15;a.css({top:b})}function i(c){c.preventDefault(),a.hide(),b(document).off("keyup",j)}function j(b){b.keyCode==27&&a.find(".close").click()}function k(a){a.preventDefault(),s(this)}function l(a){a.keyCode===13&&(a.preventDefault(),m(this))}function m(b){var d,e=!1,f=!1;c.each(function(){var a=this.value;if(!a)return!0;this.name==="dev"?e=!0:f=!0});if(e&&f)d="both";else{if(!e&&!f)return!1;d="home"}a.find("#"+d).click()}function n(){return b("#terabyte-url").length||(b("body").append(d),a=b("#terabyte-url"),c=a.find("input")),g(),b.Deferred(function(a){b("#terabyte-url").length&&b("#terabyte-url:visible").length?a.resolve():a.reject()}).promise()}function o(){return b.get(e.host+"urlgenerator.html")}function p(a,b,c){return e._URL_START+a+e[b]+e._URL_END+e[c]}function q(a,b){var c="_blank";b||(c="_self"),window.open(a,c)}function r(a){var d,e=[],f=a.id;return c.each(function(){var a=b(this),c=this.name;if(!this.value.length)return!0;f!="both"?e.push(p(this.value,c,f)):(e.push(p(this.value,c,"home")),e.push(p(this.value,c,"admin")))}),e}function s(a){var b=!1,c=r(a);for(var d=0,e=c.length;d<e;d++)q(c[d],b),b||(b=!0)}var a,c,d='<div id="terabyte-url"><fieldset><legend>Terabyte Server URL Generator</legend><label for="dev">Dev URL</label><input type="text" placeholder="Dev" name="dev" /><label for="test">Test URL</label><input type="text" placeholder="Test" name="test" /><div class="buttons"><a class="btn" id="home">Home</a><a class="btn" id="admin">Admin</a><a class="btn btn-wide" id="both">Both</a></div><a class="close">X</a></fieldset></div>',e={_URL_START:"http://www.",_URL_END:".terabyte.co.nz",dev:".dev",test:".test",home:"",admin:"/admin",host:"https://github.com/patocallaghan/UrlGenerator/blob/master/"};return{init:function(){b.when(n()).then(function(){f()}).fail(function(){console.error("URL generator - HTML not appended!")})},reInit:function(){g()}}}(),a.Terabytelet=c})(window,window.terabyteletLibrary),Terabytelet.UrlGenerator.init()